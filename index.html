<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>ðŸ’° Payments Tracker</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 20px;
      background: #f5f5f5;
      color: #222;
    }
    h1 { color: #7c5cff; }
    .week {
      background: white;
      border-radius: 12px;
      padding: 15px;
      margin-bottom: 15px;
      box-shadow: 0 2px 6px rgba(0,0,0,0.1);
    }
    .bill {
      display: flex;
      justify-content: space-between;
      padding: 6px 0;
      border-bottom: 1px solid #eee;
    }
    .bill:last-child { border-bottom: none; }
    .remaining {
      font-weight: bold;
      margin-top: 10px;
      color: green;
    }
  </style>
</head>
<body>
  <h1>ðŸ’° Payments Tracker</h1>
  <div id="weeks"></div>

  <script>
    // === Bills with due dates ===
    const BASE_BILLS = [
      { name: "City of Phoenix", amount: 60, due: "2025-09-05" },
      { name: "Quicksilver 3064", amount: 100, due: "2025-09-12" },
      { name: "Progressive", amount: 300, due: "2025-09-16" },
      { name: "Century Link", amount: 70, due: "2025-09-14" },
      { name: "T-Mobile", amount: 368, due: "2025-09-16" },
      { name: "House payment", amount: 950, due: "2025-09-29" },
      { name: "Rogue", amount: 700, due: "2025-09-03" },
      { name: "HOA", amount: 160, due: "2025-09-01" },
      { name: "Kicks", amount: 472, due: "2025-09-30" },
      { name: "Amazon Prime", amount: 50, due: "2025-09-08" },
      { name: "Walmart", amount: 75, due: "2025-09-18" },
      { name: "Quicksilver 5989", amount: 100, due: "2025-09-16" },
      { name: "Capital One", amount: 189, due: "2025-09-11" },
      { name: "Frontier", amount: 65, due: "2025-09-16" },
      { name: "Chase", amount: 125, due: "2025-09-16" },
      { name: "Hawaiian Airlines", amount: 65, due: "2025-09-16" },
      { name: "Fridge", amount: 60, due: "2025-09-01" },
      { name: "PeÃ±asco", amount: 45, due: "2025-09-01" },
      { name: "Vegas", amount: 51, due: "2025-09-01" }
    ];

    // === Generate alternating pay schedule ===
    function generatePaySchedule(startDate, numPeriods) {
      const weeks = [];
      let date = new Date(startDate + "T00:00:00-07:00"); // Arizona time
      let toggle = true; // alternate between 2017 and 650

      for (let i = 0; i < numPeriods; i++) {
        weeks.push({
          date: date.toISOString().slice(0, 10),
          amount: toggle ? 2017 : 650,
          bills: []
        });

        date.setDate(date.getDate() + 7); // move 7 days forward
        toggle = !toggle;
      }
      return weeks;
    }

    // === Assign bills to the correct paycheck ===
    function assignBillsToWeeks(weeks, bills) {
      bills.forEach(bill => {
        const due = new Date(bill.due + "T00:00:00-07:00");
        let targetWeek = weeks.find(w => new Date(w.date) >= due);
        if (!targetWeek) {
          targetWeek = weeks[weeks.length - 1];
        }
        targetWeek.bills.push(bill);
      });
    }

    // === Render UI ===
    function renderWeeks(weeks) {
      const container = document.getElementById("weeks");
      container.innerHTML = "";
      weeks.forEach(week => {
        const totalBills = week.bills.reduce((sum, b) => sum + b.amount, 0);
        const remaining = week.amount - totalBills;

        const div = document.createElement("div");
        div.className = "week";
        div.innerHTML = `
          <h2>Pay Date: ${week.date} â€” ðŸ’µ $${week.amount}</h2>
          <div>
            ${week.bills.map(b => `
              <div class="bill">
                <span>${b.name}</span>
                <span>$${b.amount}</span>
              </div>
            `).join("")}
          </div>
          <div class="remaining">Remaining: $${remaining}</div>
        `;
        container.appendChild(div);
      });
    }

    // === Run ===
    const WEEKS = generatePaySchedule("2025-08-23", 8); // 2 months (8 weeks)
    assignBillsToWeeks(WEEKS, BASE_BILLS);
    renderWeeks(WEEKS);
  </script>
</body>
</html>
